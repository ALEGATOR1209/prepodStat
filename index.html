<!DOCTYPE html>
<meta charset="UTF-8">
<script src="./node_modules/chart.js/dist/Chart.min.js"></script>
<link rel="stylesheet" href="src/styles.css">
<script>
    const colorGraph = 'rgba(172,172,172,0.7)';
    const colorText = 'rgb(255,255,255)';
    const colorLines = 'rgb(255,255,255)';
</script>
<body>
    <div class="form">
        <div class="left_info">
            <div class="prepod_face_and_name">
                <img class="prepod_face" src="data/sticker_y7y1iyba.png" alt="Prepod's face">
                <h1 class="prepod_name">зав. каф. Селіванов В. Л.</h1>
            </div>
            <div class="general_numbers">
                <p class="characteristic_num contract_percent">25%</p>
                <p class="characteristic_desc">опитаних вважають, що КПІ варто продовжити контракт з цим викладачем</p>
                <p class="characteristic_num listening_num">75%</p>
                <p class="characteristic_desc">гарно чують викладача</p>
                <p class="characteristic_num respondents_num">50</p>
                <p class="characteristic_desc">кількість опитаних</p>
                <p class="characteristic_num respondents_num">100</p>
                <p class="characteristic_desc">загалом студентів</p>
            </div>
        </div>
        <div class="right_info">
            <div class="radial">
                <canvas id="radial_diagram"></canvas>
            </div>
            <div class="graphs">
                <div class="graph_education">
                    <canvas class="graph" id="education_rate"></canvas>
                    <p class="education_level">Загальний рівень викладання дисципліни</p>
                </div>
                <div class="graph_education">
                    <canvas class="graph" id="knowledge_rate"></canvas>
                    <p class="education_level">Оцінка власних знань після проходження курсу</p>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="src/radial.js"></script>
<script src="src/linear.js"></script>
<script>
    linearDiagram(("education_rate"), Array(5).fill(0).map(() => Math.random() * 50));
    linearDiagram(("knowledge_rate"), Array(5).fill(0).map(() => Math.random() * 100));
</script>

<div id="drop_zone">Drop files here</div>
<output id="list"></output>
<script>
    function handleFileSelect(evt) {
        evt.stopPropagation();
        evt.preventDefault();

        const files = evt.dataTransfer.files;
        const reader = new FileReader();
        reader.onload = e => {
            const json = JSON.parse(e.target.result);
            console.log(json)
        };
        for (let i = 0, f; f = files[i]; i++) {
            reader.readAsText(f);
        }
    }

    function handleDragOver(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
    }

    // Setup the dnd listeners.
    const dropZone = document.getElementById('drop_zone');
    dropZone.addEventListener('dragover', handleDragOver, false);
    dropZone.addEventListener('drop', handleFileSelect, false);
</script>